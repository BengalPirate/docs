<p>Appwrite supports multiple protocols for accessing the server, including <a href="/docs/rest">REST</a>, <a href="/docs/graphql">GraphQL</a>, and <a href="/docs/realtime">Realtime</a>.</p>

<p>The REST API allows you to access your Appwrite server through HTTP requests, without the need for an SDK. Each endpoint in the API represents a specific operation on a specific resource.</p>

<h2><a href="/docs/rest#headers" id="headers">Headers</a></h2>
<p>Appwrite's REST APIs expect certain headers to be attached to each request </p>

<table class="full text-size-small">
    <thead>
    <tr>
        <td style="width: 180px">Header</td>
        <td>Description</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><code>X-Appwrite-Project: [PROJECT-ID]</code></td>
        <td>Required, provides the ID of your Appwrite Project to the REST API.</td>
    </tr>
    <tr>
        <td><code>Content-type: application/json</code></td>
        <td>Required, declares content type of the HTTP request.</td>
    </tr>
    <tr>
        <td><code>X-Appwrite-key: [API-KEY]</code></td>
        <td>Optional, used for authentication in server integrations. <b>Do not use API keys in client applications.</b></td>
    </tr>
    </tbody>
</table>

<h3>Client Authentication</h3>
<p>You can create account sessions with POST requests to the <a href="docs/client/account">Account API</a>. Sessions are persisted using cookies like any other REST API. You can learn more about session persistence in the <a href="/docs/authentication#persistence">Authentication Guide</a>.</p>
<p>The example below shows creating an account session with the <a href="/docs/client/account?sdk=web-default#accountCreateEmailSession">Create Account Session with Email</a> endpoint.</p>
<ul class="phases clear" data-ui-phases>
    <li>
        <h3>Fetch</h3>
        <div class="ide" data-lang="javascript" data-lang-label="Web SDK">
            <pre class="line-numbers"><code class="prism language-javascript" data-prism>fetch("https://[HOSTNAME_OR_IP]/v1/account/sessions/email", {
  "headers": {
    "content-type": "application/json",
    "x-appwrite-project": "6318f4f66a3bb5b4d525"
  },
  "body": "{\"email\":\"vincent123456@appwrite.io\",\"password\":\"vincent123456\"}",
  "method": "POST",
});</code></pre>
        </div>
    </li>
    <li>
        <h3>cURL</h3>
        <div class="ide margin-bottom" data-lang="bash" data-lang-label="Bash">
            <pre class="line-numbers"><code class="prism language-bash" data-prism>curl 'https://[HOSTNAME_OR_IP]/v1/account/sessions/email' \
  -H 'content-type: application/json' \
  -H 'x-appwrite-project: 6062f9c2c09ce' \
  -d '{"email":"<fill>","password":"<fill>"}'</code></pre>
        </div>
    </li>
    <li>
        <h3>PowerShell</h3>
        <div class="ide margin-bottom" data-lang="powershell" data-lang-label="PowerShell">
            <pre class="line-numbers"><code class="prism language-powershell" data-prism>$session = New-Object Microsoft.PowerShell.Commands.WebRequestSession
Invoke-WebRequest -UseBasicParsing -Uri "https://[HOSTNAME_OR_IP]/v1/account/sessions/email" `
-Method "POST" `
-WebSession $session `
-Headers @{
  "method"="POST"
  "path"="/v1/account/sessions/email"
  "scheme"="https"
  "x-appwrite-project"="6062f9c2c09ce"
} `
-ContentType "application/json" `
-Body "{`"email`":`"vincent123456@appwrite.io`",`"password`":`"vincent123456`"}"</code></pre>
        </div>
    </li>
</ul>

<h2>Server Authentication</h2>
<p>Server integrations use API keys to authenticate and are typically used for backend appications.</p>
<p>You don't need to create an account session before making requests to Server APIs. Simply pass an <a href="/docs/keys">API key</a> in the <code>X-Appwrite-key: [API-KEY]</code> header with the appropriate scopes.</p>

<h2>File Handling</h2>
<p>Appwrite implements resumable, chunked uploads for files larger than 5MB. Chunked uploads send files in chunks of 5MB to reduce memory footprint and increase resilience when handling large files. Appwrite SDKs will automatically handle chunked uploads but it is possible to implement this with the REST API directly.</p>

<p>Upload endpoints in Appwrite such as Create File and Create Deployment are different from other endpoints. These endpoints take multipart form data instead of JSON data. To implement chunked uploads, you will need to implement the following headers</p>

<table class="full text-size-small">
    <thead>
    <tr>
        <td style="width: 180px">Header</td>
        <td>Description</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><code>X-Appwrite-Project: [PROJECT-ID]</code></td>
        <td>Required, provides the ID of your Appwrite Project to the REST API.</td>
    </tr>
    <tr>
        <td><code>Content-type: multipart/form-data; boundary=[Generated Form Boundry]'</code></td>
        <td>Required, declares content type of the HTTP request and provides a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST">boundry</a> which is used to parse the form data.</td>
    </tr>
    <tr>
        <td><code>x-appwrite-id: [FILE-ID]</code></td>
        <td>Required, declares which file this chunk belongs to.</td>
    </tr>
    <tr>
        <td><code>X-Appwrite-key: [API-KEY]</code></td>
        <td>Optional, used for authentication in server integrations. <b>Do not use API keys in client applications.</b></td>
    </tr>
    </tbody>
</table>

<table class="full text-size-small">
    <thead>
    <tr>
        <td style="width: 180px">Key:Value</td>
        <td>Description</td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><code>fileId:[FILE-ID]</code></td>
        <td>Required, contains the file ID of the new file. Use <code>"unique()"</code> as the file ID when uploading the first chunk to obtain a generated UUID. Be sure to use the ID returned from the first request in all following requests.</td>
    </tr>
    <tr>
        <td><code>file:[CHUNK-DATA]; filename=[FILE-NAME]</code></td>
        <td>Required, contains file chunk data.</td>
    </tr>
    <tr>
        <td><code>permissions:[PERMISSION ARRAY]</code></td>
        <td>Required, declares which file this chunk belongs to.</td>
    </tr>
    </tbody>
</table>

<p>While cURL and fetch are great tools to explore other REST endpoints, it's impractical to use for chunked file uploads because you need to split files into chunks.</p>

<p>The multipart form data posted to file upload endpoints has the following format:</p>


<!-- Example request -->
POST /v1//storage/buckets/default/files HTTP/1.1
Host: [HOSTNAME_OR_IP]
Content-Type: multipart/form-data; boundary=---WD9146A
X-Appwrite-Project: Transcriptions
content-range: bytes 10485760-12582912/12582912
x-appwrite-id: 6369b0bc1dcf4ff59051

------WebKitFormBoundarye0m6iNBQNHlzTpVM
Content-Disposition: form-data; name="fileId"

unique()
------WebKitFormBoundarye0m6iNBQNHlzTpVM
Content-Disposition: form-data; name="file"; filename="file.txt"
Content-Type: application/octet-stream

[Chunked Data]
------WebKitFormBoundarye0m6iNBQNHlzTpVM
Content-Disposition: form-data; name="permissions"

["read(\"user:627a958ded6424a98a9f\")"]
------WebKitFormBoundarye0m6iNBQNHlzTpVM--


<!-- curl 'https://[HOSTNAME_OR_IP]/v1//storage/buckets/default/files' \
  -H 'Content-Type: multipart/form-data; boundary=------WebKitFormBoundarye0m6iNBQNHlzTpVM' \
  -H 'X-Appwrite-Project: Transcriptions' \
  -H 'content-range: bytes 10485760-12582912/12582912' \
  -H 'x-appwrite-id: 6369b0bc1dcf4ff59051' \
  --data-raw   $'------WebKitFormBoundarye0m6iNBQNHlzTpVM
                Content-Disposition: form-data; name="fileId"

                unique()
                ------WebKitFormBoundarye0m6iNBQNHlzTpVM
                Content-Disposition: form-data; name="file"; filename="file.txt"
                Content-Type: application/octet-stream

                [Chunked Data]
                ------WebKitFormBoundarye0m6iNBQNHlzTpVM
                Content-Disposition: form-data; name="permissions"

                ["read(\"user:627a958ded6424a98a9f\")"]
                ------WebKitFormBoundarye0m6iNBQNHlzTpVM--
                ' \
  --compressed \
  --insecure
 -->
